<div class="streaming-container">
    <div class="video-section">
      <video
        #localVideo
        autoplay
        muted
        playsinline
        [hidden]="!showLocal"
      ></video>
      <video
        #remoteVideo
        autoplay
        playsinline
        [hidden]="!showRemote"
      ></video>
  
      <div class="video-overlay">Live: {{ streamDuration }}</div>
  
      <div class="info-overlay">
        <div class="info-box">Followers: 2</div>
        <div class="info-box">
          Total earned Satoshi: {{ rewardSatoshi }} âš¡
          <span *ngIf="comboMultiplier > 1" class="combo-badge">
            ðŸ”¥ x{{ comboMultiplier }} Combo!
          </span>
        </div>
      </div>
  
      <div class="startstopbtn">
        <button (click)="start(true)">
          {{ isStreaming ? 'Stop Stream' : 'Start Stream' }}
        </button>
      </div>
    </div>
  
    <div class="chat-section">
      <div class="chat-header">Live Chat</div>
  
      <div class="chat-messages">
        <div class="message" *ngFor="let message of chatMessages">
          <strong>{{ message.userName }}:</strong> {{ message.text }}<br />
          <small class="timestamp">
            {{ message.timestamp | date: 'shortTime' }}
          </small>
        </div>
        <div #chatBottom></div>
      </div>
      
      
  
      <form *ngIf="streamId" (submit)="sendMessage(); $event.preventDefault()">
        <input
          type="text"
          [(ngModel)]="newMessage"
          name="message"
          placeholder="Type a message..."
          [disabled]="!streamId"
        />
        <button
          class="sendmsg-btn"
          type="submit"
          [disabled]="!newMessage.trim() || !streamId"
        >
          Send
        </button>
      </form>
      
      <!-- Optioneel: laat iets zien als streamId nog niet beschikbaar is -->
      <div *ngIf="!streamId" class="chat-disabled-msg">
        â›” Start eerst een stream om te kunnen chatten
      </div>
      
    </div>
  </div>
  